{% extends 'base.html.twig' %}

{% block title %}Perfil de Usuario{% endblock %}

{% block body %}
    <h1>Perfil de Usuario</h1>

    {# read and display success flash messages #}
    {% for message in app.flashes('success') %}
        <div class="flash-success">
            {{ message }}
        </div>
    {% endfor %}

    {% if user.photoFilename %}
        <p><a href="{{ asset('images/profile_photos/' ~ user.photoFilename) }}">
        <img height="200" src="{{ asset('images/profile_photos/' ~ user.photoFilename) }}">
        </a></p>
    {% else %}
        <p><a href="{{ path('app_profile_edit') }}">
        <img width="200" src="{{ asset('images/profile_photos/default_profile_photo.PNG') }}">
        </a></p>    
    {% endif %}


    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ user.id }}</td>
            </tr>
            <tr>
                <th>Email</th>
                <td>{{ user.email }}</td>
            </tr>
            <tr>
                <th>Roles</th>
                <td>{{ user.roles ? user.roles|json_encode : '' }}</td>
            </tr>
            {#<tr>
                <th>Password</th>
                <td>{{ user.password }}</td>#}
            </tr>
            <tr>
                <th>IsVerified</th>
                <td>{{ user.isVerified ? 'Yes' : 'No' }}</td>
            </tr>
            <tr>
                <th>Username</th>
                <td>{{ user.username }}</td>
            </tr>
            <tr>
                <th>CreatedAt</th>
                <td>{{ user.createdAt ? user.createdAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>UpdatedAt</th>
                <td>{{ user.updatedAt ? user.updatedAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>LastLogin</th>
                <td>{{ user.lastLogin ? user.lastLogin|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Enabled</th>
                <td>{{ user.enabled ? 'Yes' : 'No' }}</td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('app_profile_edit') }}">edit</a>

    {{ include('profile/_delete_form.html.twig') }}
{% endblock %}
